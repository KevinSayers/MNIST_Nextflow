Jul-15 19:14:58.394 [main] DEBUG nextflow.cli.Launcher - $> /home/kevin/bin/nextflow run mnist.nf
Jul-15 19:14:58.492 [main] INFO  nextflow.cli.CmdRun - N E X T F L O W  ~  version 0.24.4
Jul-15 19:14:58.499 [main] INFO  nextflow.cli.CmdRun - Launching `mnist.nf` [goofy_kilby] - revision: d3c44e7e6a
Jul-15 19:14:58.509 [main] DEBUG nextflow.config.ConfigBuilder - Found config local: nextflow.config
Jul-15 19:14:58.511 [main] DEBUG nextflow.config.ConfigBuilder - Parsing config file: /home/kevin/MNIST_Nextflow/nextflow.config
Jul-15 19:14:58.777 [main] DEBUG nextflow.config.ConfigBuilder - Setting config profile: 'standard'
Jul-15 19:14:58.828 [main] DEBUG nextflow.Session - Session uuid: 6c4a5cf6-c14c-4d5c-a919-76d2baf59195
Jul-15 19:14:58.828 [main] DEBUG nextflow.Session - Run name: goofy_kilby
Jul-15 19:14:58.829 [main] DEBUG nextflow.Session - Executor pool size: 8
Jul-15 19:14:58.839 [main] DEBUG nextflow.cli.CmdRun - 
  Version: 0.24.4 build 4341
  Modified: 22-05-2017 11:18 UTC (13:18 CEST)
  System: Linux 4.9.0-040900-generic
  Runtime: Groovy 2.4.10 on Java HotSpot(TM) 64-Bit Server VM 1.8.0_131-b11
  Encoding: UTF-8 (UTF-8)
  Process: 8207@kevin-XPS-15-9550 [127.0.1.1]
  CPUs: 8 - Mem: 15.5 GB (1.5 GB) - Swap: 14.6 GB (14.2 GB)
Jul-15 19:14:58.857 [main] DEBUG nextflow.Session - Work-dir: /home/kevin/MNIST_Nextflow/work [ext2/ext3]
Jul-15 19:14:58.857 [main] DEBUG nextflow.Session - Script base path does not exist or is not a directory: /home/kevin/MNIST_Nextflow/bin
Jul-15 19:14:58.928 [main] DEBUG nextflow.Session - Session start invoked
Jul-15 19:14:58.930 [main] DEBUG nextflow.processor.TaskDispatcher - Dispatcher > start
Jul-15 19:14:58.931 [main] DEBUG nextflow.script.ScriptRunner - > Script parsing
Jul-15 19:14:59.024 [main] DEBUG nextflow.script.ScriptRunner - > Launching execution
Jul-15 19:14:59.078 [main] DEBUG nextflow.processor.ProcessFactory - << taskConfig executor: null
Jul-15 19:14:59.078 [main] DEBUG nextflow.processor.ProcessFactory - >> processorType: 'local'
Jul-15 19:14:59.083 [main] DEBUG nextflow.executor.Executor - Initializing executor: local
Jul-15 19:14:59.085 [main] INFO  nextflow.executor.Executor - [warm up] executor > local
Jul-15 19:14:59.089 [main] DEBUG n.processor.LocalPollingMonitor - Creating local task monitor for executor 'local' > cpus=8; memory=15.5 GB; capacity=8; pollInterval=100ms; dumpInterval=5m
Jul-15 19:14:59.092 [main] DEBUG nextflow.processor.TaskDispatcher - Starting monitor: LocalPollingMonitor
Jul-15 19:14:59.093 [main] DEBUG n.processor.TaskPollingMonitor - >>> barrier register (monitor: local)
Jul-15 19:14:59.094 [main] DEBUG nextflow.executor.Executor - Invoke register for executor: local
Jul-15 19:14:59.166 [main] DEBUG nextflow.Session - >>> barrier register (process: runTensorflow)
Jul-15 19:14:59.176 [main] DEBUG nextflow.processor.TaskProcessor - Creating operator > runTensorflow -- maxForks: 8
Jul-15 19:14:59.202 [main] DEBUG nextflow.script.ScriptRunner - > Await termination 
Jul-15 19:14:59.202 [main] DEBUG nextflow.Session - Session await
Jul-15 19:14:59.213 [Actor Thread 1] DEBUG nextflow.processor.TaskProcessor - <runTensorflow> Poison pill arrived
Jul-15 19:14:59.217 [Actor Thread 2] DEBUG nextflow.processor.StateObj - <runTensorflow> State before poison: StateObj[submitted: 1; completed: 0; poisoned: false ]
Jul-15 19:14:59.434 [Actor Thread 3] INFO  nextflow.Session - [5c/17df72] Submitted process > runTensorflow
Jul-15 19:14:59.437 [Actor Thread 1] DEBUG nextflow.processor.TaskProcessor - <runTensorflow> After stop
Jul-15 19:15:01.953 [Thread-1] ERROR nextflow.processor.TaskProcessor - Error executing process > 'runTensorflow'

Caused by:
  Process `runTensorflow` terminated with an error exit status (1)

Command executed:

  python mnist.py --data_dir MNIST_data

Command exit status:
  1

Command output:
  gradients/Mean_grad/Tile: (Tile): /job:localhost/replica:0/task:0/gpu:0
  gradients/Mean_grad/truediv: (RealDiv): /job:localhost/replica:0/task:0/gpu:0
  gradients/Reshape_2_grad/Reshape: (Reshape): /job:localhost/replica:0/task:0/gpu:0
  gradients/SoftmaxCrossEntropyWithLogits_grad/ExpandDims: (ExpandDims): /job:localhost/replica:0/task:0/gpu:0
  gradients/SoftmaxCrossEntropyWithLogits_grad/mul: (Mul): /job:localhost/replica:0/task:0/gpu:0
  gradients/Reshape_grad/Reshape: (Reshape): /job:localhost/replica:0/task:0/gpu:0
  gradients/add_grad/Sum_1: (Sum): /job:localhost/replica:0/task:0/gpu:0
  gradients/add_grad/Reshape_1: (Reshape): /job:localhost/replica:0/task:0/gpu:0
  gradients/add_grad/Sum: (Sum): /job:localhost/replica:0/task:0/gpu:0
  gradients/add_grad/Reshape: (Reshape): /job:localhost/replica:0/task:0/gpu:0
  gradients/add_grad/tuple/group_deps: (NoOp): /job:localhost/replica:0/task:0/gpu:0
  gradients/add_grad/tuple/control_dependency_1: (Identity): /job:localhost/replica:0/task:0/gpu:0
  GradientDescent/update_Variable_1/ApplyGradientDescent: (ApplyGradientDescent): /job:localhost/replica:0/task:0/gpu:0
  gradients/add_grad/tuple/control_dependency: (Identity): /job:localhost/replica:0/task:0/gpu:0
  gradients/MatMul_grad/MatMul_1: (MatMul): /job:localhost/replica:0/task:0/gpu:0
  gradients/MatMul_grad/MatMul: (MatMul): /job:localhost/replica:0/task:0/gpu:0
  gradients/MatMul_grad/tuple/group_deps: (NoOp): /job:localhost/replica:0/task:0/gpu:0
  gradients/MatMul_grad/tuple/control_dependency_1: (Identity): /job:localhost/replica:0/task:0/gpu:0
  GradientDescent/update_Variable/ApplyGradientDescent: (ApplyGradientDescent): /job:localhost/replica:0/task:0/gpu:0
  GradientDescent: (NoOp): /job:localhost/replica:0/task:0/gpu:0
  gradients/MatMul_grad/tuple/control_dependency: (Identity): /job:localhost/replica:0/task:0/gpu:0
  Mean: (Mean): /job:localhost/replica:0/task:0/gpu:0
  GradientDescent/learning_rate: (Const): /job:localhost/replica:0/task:0/gpu:0
  gradients/add_grad/Shape_1: (Const): /job:localhost/replica:0/task:0/gpu:0
  gradients/SoftmaxCrossEntropyWithLogits_grad/ExpandDims/dim: (Const): /job:localhost/replica:0/task:0/gpu:0
  gradients/Mean_grad/Maximum/y: (Const): /job:localhost/replica:0/task:0/gpu:0
  gradients/Mean_grad/Const_1: (Const): /job:localhost/replica:0/task:0/gpu:0
  gradients/Mean_grad/Const: (Const): /job:localhost/replica:0/task:0/gpu:0
  gradients/Mean_grad/Shape_2: (Const): /job:localhost/replica:0/task:0/gpu:0
  gradients/Mean_grad/Reshape/shape: (Const): /job:localhost/replica:0/task:0/gpu:0
  gradients/Const: (Const): /job:localhost/replica:0/task:0/gpu:0
  gradients/Shape: (Const): /job:localhost/replica:0/task:0/gpu:0
  Const: (Const): /job:localhost/replica:0/task:0/gpu:0
  Slice_2/begin: (Const): /job:localhost/replica:0/task:0/gpu:0
  Sub_2/y: (Const): /job:localhost/replica:0/task:0/gpu:0
  concat_1/axis: (Const): /job:localhost/replica:0/task:0/gpu:0
  concat_1/values_0: (Const): /job:localhost/replica:0/task:0/gpu:0
  Slice_1/size: (Const): /job:localhost/replica:0/task:0/gpu:0
  Sub_1/y: (Const): /job:localhost/replica:0/task:0/gpu:0
  Rank_2: (Const): /job:localhost/replica:0/task:0/gpu:0
  concat/axis: (Const): /job:localhost/replica:0/task:0/gpu:0
  concat/values_0: (Const): /job:localhost/replica:0/task:0/gpu:0
  Slice/size: (Const): /job:localhost/replica:0/task:0/gpu:0
  Sub/y: (Const): /job:localhost/replica:0/task:0/gpu:0
  Rank_1: (Const): /job:localhost/replica:0/task:0/gpu:0
  Rank: (Const): /job:localhost/replica:0/task:0/gpu:0
  Placeholder_1: (Placeholder): /job:localhost/replica:0/task:0/gpu:0
  zeros_1: (Const): /job:localhost/replica:0/task:0/gpu:0
  zeros: (Const): /job:localhost/replica:0/task:0/gpu:0
  Placeholder: (Placeholder): /job:localhost/replica:0/task:0/gpu:0

Command error:
  2017-07-15 17:15:01.707605: I tensorflow/core/common_runtime/simple_placer.cc:847] Sub/y: (Const)/job:localhost/replica:0/task:0/gpu:0
  2017-07-15 17:15:01.707612: I tensorflow/core/common_runtime/simple_placer.cc:847] Rank_1: (Const)/job:localhost/replica:0/task:0/gpu:0
  2017-07-15 17:15:01.707619: I tensorflow/core/common_runtime/simple_placer.cc:847] Rank: (Const)/job:localhost/replica:0/task:0/gpu:0
  2017-07-15 17:15:01.707626: I tensorflow/core/common_runtime/simple_placer.cc:847] Placeholder_1: (Placeholder)/job:localhost/replica:0/task:0/gpu:0
  2017-07-15 17:15:01.707634: I tensorflow/core/common_runtime/simple_placer.cc:847] zeros_1: (Const)/job:localhost/replica:0/task:0/gpu:0
  2017-07-15 17:15:01.707641: I tensorflow/core/common_runtime/simple_placer.cc:847] zeros: (Const)/job:localhost/replica:0/task:0/gpu:0
  2017-07-15 17:15:01.707652: I tensorflow/core/common_runtime/simple_placer.cc:847] Placeholder: (Placeholder)/job:localhost/replica:0/task:0/gpu:0
  2017-07-15 17:15:01.713931: W tensorflow/core/framework/op_kernel.cc:1158] Failed precondition: Attempting to use uninitialized value Variable
  	 [[Node: Variable/read = Identity[T=DT_FLOAT, _class=["loc:@Variable"], _device="/job:localhost/replica:0/task:0/gpu:0"](Variable)]]
  Traceback (most recent call last):
    File "mnist.py", line 80, in <module>
      tf.app.run(main=main, argv=[sys.argv[0]] + unparsed)
    File "/usr/local/lib/python2.7/dist-packages/tensorflow/python/platform/app.py", line 48, in run
      _sys.exit(main(_sys.argv[:1] + flags_passthrough))
    File "mnist.py", line 67, in main
      sess.run(train_step, feed_dict={x: batch_xs, y_: batch_ys})
    File "/usr/local/lib/python2.7/dist-packages/tensorflow/python/client/session.py", line 789, in run
      run_metadata_ptr)
    File "/usr/local/lib/python2.7/dist-packages/tensorflow/python/client/session.py", line 997, in _run
      feed_dict_string, options, run_metadata)
    File "/usr/local/lib/python2.7/dist-packages/tensorflow/python/client/session.py", line 1132, in _do_run
      target_list, options, run_metadata)
    File "/usr/local/lib/python2.7/dist-packages/tensorflow/python/client/session.py", line 1152, in _do_call
      raise type(e)(node_def, op, message)
  tensorflow.python.framework.errors_impl.FailedPreconditionError: Attempting to use uninitialized value Variable
  	 [[Node: Variable/read = Identity[T=DT_FLOAT, _class=["loc:@Variable"], _device="/job:localhost/replica:0/task:0/gpu:0"](Variable)]]
  
  Caused by op u'Variable/read', defined at:
    File "mnist.py", line 80, in <module>
      tf.app.run(main=main, argv=[sys.argv[0]] + unparsed)
    File "/usr/local/lib/python2.7/dist-packages/tensorflow/python/platform/app.py", line 48, in run
      _sys.exit(main(_sys.argv[:1] + flags_passthrough))
    File "mnist.py", line 41, in main
      W = tf.Variable(tf.zeros([784, 10]))
    File "/usr/local/lib/python2.7/dist-packages/tensorflow/python/ops/variables.py", line 200, in __init__
      expected_shape=expected_shape)
    File "/usr/local/lib/python2.7/dist-packages/tensorflow/python/ops/variables.py", line 319, in _init_from_args
      self._snapshot = array_ops.identity(self._variable, name="read")
    File "/usr/local/lib/python2.7/dist-packages/tensorflow/python/ops/gen_array_ops.py", line 1303, in identity
      result = _op_def_lib.apply_op("Identity", input=input, name=name)
    File "/usr/local/lib/python2.7/dist-packages/tensorflow/python/framework/op_def_library.py", line 767, in apply_op
      op_def=op_def)
    File "/usr/local/lib/python2.7/dist-packages/tensorflow/python/framework/ops.py", line 2506, in create_op
      original_op=self._default_original_op, op_def=op_def)
    File "/usr/local/lib/python2.7/dist-packages/tensorflow/python/framework/ops.py", line 1269, in __init__
      self._traceback = _extract_stack()
  
  FailedPreconditionError (see above for traceback): Attempting to use uninitialized value Variable
  	 [[Node: Variable/read = Identity[T=DT_FLOAT, _class=["loc:@Variable"], _device="/job:localhost/replica:0/task:0/gpu:0"](Variable)]]

Work dir:
  /home/kevin/MNIST_Nextflow/work/5c/17df721bd754f9a52f36a80a230b36

Tip: you can try to figure out what's wrong by changing to the process work dir and showing the script file named `.command.sh`
Jul-15 19:15:01.956 [Actor Thread 2] DEBUG nextflow.processor.TaskProcessor - <runTensorflow> Sending poison pills and terminating process
Jul-15 19:15:01.956 [Thread-1] DEBUG nextflow.Session - Session aborted -- Cause: Process `runTensorflow` terminated with an error exit status (1)
Jul-15 19:15:01.958 [Actor Thread 2] DEBUG nextflow.Session - <<< barrier arrive (process: runTensorflow)
Jul-15 19:15:01.959 [main] DEBUG nextflow.Session - Session await > all process finished
Jul-15 19:15:01.961 [main] DEBUG nextflow.Session - Session await > all barriers passed
Jul-15 19:15:01.961 [Thread-1] DEBUG n.processor.TaskPollingMonitor - <<< barrier arrives (monitor: local)
Jul-15 19:15:02.015 [main] DEBUG nextflow.CacheDB - Closing CacheDB done
Jul-15 19:15:02.028 [main] DEBUG nextflow.script.ScriptRunner - > Execution complete -- Goodbye
